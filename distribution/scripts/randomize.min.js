const button=document.querySelector(".main__button"),updateArrow=document.querySelector(".update-arrow"),switchBlocks=document.getElementById("switch-blocks"),switchList=document.getElementById("switch-list");let prevInputFrom,prevInputTo,prevInputQty,prevInputRepetitions,prevInputSort,globalResult=[];const mainContainer=document.getElementById("main-container"),randomDesc=document.querySelector(".random-desc"),errorNote=document.querySelector(".error-note"),note=document.querySelector(".note"),mainSubtitle=document.querySelector(".main__subtitle"),mainTime=document.querySelector(".main__time"),contentHeight=document.body.scrollHeight,switchListGen=e=>{const t=document.getElementById("main-container");t.innerHTML="";const n=document.createElement("textarea");n.classList.add("main__textarea"),n.classList.add("created__textarea"),n.setAttribute("rows","10"),n.textContent=e.join(", ").replace(/,/g,", "),t.appendChild(n);const o=document.createElement("button");o.classList.add("main__button"),o.classList.add("copy"),o.textContent="Copy",t.appendChild(o),o.addEventListener("click",()=>{const e=document.createElement("textarea");e.value=globalResult.join(", ").replace(/,/g,", "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})},createSwitchBlocks=()=>{switchBlocks.classList.add("active"),switchList.classList.remove("active"),mainContainer.innerHTML="",note.innerHTML="Click on element to copy.";const e=globalResult[globalResult.length-1];e&&e.forEach(e=>{if("/^s*[\r\n]/gm"===e||"/^s*[\r\n]/gm"===e)return;const t=document.createElement("span");t.classList.add("numbers-span"),t.textContent=e,mainContainer.appendChild(t),t.addEventListener("click",()=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)})})},createSwitchLink=()=>{switchList.classList.add("active"),switchBlocks.classList.remove("active"),mainContainer.innerHTML="",note.innerHTML="";const e=document.createElement("textarea");e.classList.add("main__textarea"),e.classList.add("created__textarea"),e.setAttribute("rows","10"),e.textContent=globalResult.join(", ").replace(/,/g,", "),mainContainer.appendChild(e);const t=document.createElement("button");t.classList.add("main__button"),t.classList.add("copy"),t.textContent="Copy",mainContainer.appendChild(t),t.addEventListener("click",()=>{const e=document.createElement("textarea");e.value=globalResult.join(", ").replace(/,/g,", "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})};button.addEventListener("click",()=>{const e=parseInt(document.querySelector(".from").value),t=parseInt(document.querySelector(".to").value),n=parseInt(document.querySelector(".qty").value),o=document.getElementById("main-container"),c=document.querySelector(".random-desc");globalResult=[],n>1e3||n<0||e<0||e>9999999||t<0||t>9999999?(o.innerHTML="",c.innerHTML="",errorNote.classList.remove("hidden"),errorNote.innerHTML="The range can be from 1 to 9999999. And the quantity is from 1 to 1000."):generateNumber()}),updateArrow.addEventListener("click",()=>{document.querySelector(".from").value=prevInputFrom,document.querySelector(".to").value=prevInputTo,document.querySelector(".qty").value=prevInputQty,document.getElementById("repetitions-toggle").checked=prevInputRepetitions,document.getElementById("sorting-toggle").checked=prevInputSort,generateNumber()}),switchList.addEventListener("click",createSwitchLink),switchBlocks.addEventListener("click",createSwitchBlocks),errorNote.classList.add("red");const displayNumbers=e=>{mainContainer.innerHTML="",e&&(switchList.classList.contains("active")?switchListGen(e):e.forEach(e=>{const t=document.createElement("span");t.classList.add("numbers-span"),t.id="span-element",t.textContent=e,mainContainer.appendChild(t),t.addEventListener("click",()=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)})}))},generateNumber=()=>{const e=parseInt(document.querySelector(".from").value),t=parseInt(document.querySelector(".to").value),n=parseInt(document.querySelector(".qty").value),o=document.getElementById("repetitions-toggle").checked,c=document.getElementById("sorting-toggle").checked;document.body.style.overflowY=contentHeight>750?"scroll":"hidden",prevInputFrom=e,prevInputTo=t,prevInputQty=n,prevInputRepetitions=o,prevInputSort=c,mainContainer.innerHTML="",errorNote.innerHTML="";let r=[];if(o){let o=new Set;for(;o.size<n;){let n=Math.floor(Math.random()*(t-e+1))+e;o.add(n)}r=Array.from(o)}else for(let o=0;o<n;o++){let n=Math.floor(Math.random()*(t-e+1))+e;r.push(n)}c&&r.sort((e,t)=>e-t),mainSubtitle.classList.remove("hidden"),mainTime.innerHTML=formatTime(new Date),switchBlocks.classList.remove("hidden"),switchList.classList.remove("hidden"),randomDesc.innerHTML=`${n} numbers in the range from ${e} to ${t}. Click on element to copy.`,displayNumbers(r),globalResult.push(r)};generateNumber();