const button=document.querySelector(".main__button"),inputQty=parseInt(document.querySelector(".qty").value),textarea=document.getElementById("textarea"),switchBlocks=document.getElementById("switch-blocks"),switchList=document.getElementById("switch-list");let globalResult=[];const mainContainer=document.getElementById("main-container"),mainDesc=document.querySelector(".description"),mainSubtitle=document.querySelector(".main__subtitle"),mainTime=document.querySelector(".main__time"),note=document.querySelector(".note"),errorNote=document.querySelector(".error-note"),contentHeight=document.body.scrollHeight,linesCount=document.querySelector(".lines-counter"),linesCounter=()=>{const e=textarea.value.split("\n").filter(e=>""!==e.trim()),t=document.querySelector(".lines-counter");t.textContent=`Lines: ${e.length}`};document.addEventListener("DOMContentLoaded",function(){const e=()=>{const e=textarea.value.split("\n").filter(e=>""!==e.trim());e.length>0&&""!==e[0]?(button.removeAttribute("disabled"),button.classList.remove("disabled")):(button.setAttribute("disabled","disabled"),button.classList.add("disabled"))};textarea.addEventListener("input",e),e(),linesCounter()});const switchListGen=e=>{mainContainer.innerHTML="",note.innerHTML="";const t=document.createElement("textarea");t.classList.add("main__textarea"),t.classList.add("created__textarea"),t.setAttribute("rows","10"),t.textContent=e.join(", ").replace(/,/g,", "),mainContainer.appendChild(t);const n=document.createElement("button");n.classList.add("main__button"),n.classList.add("copy"),n.textContent="Copy",mainContainer.appendChild(n),n.addEventListener("click",()=>{const e=document.createElement("textarea");e.value=globalResult.join(", ").replace(/,/g,", "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})},createSwitchBlock=()=>{switchBlocks.classList.add("active"),switchList.classList.remove("active"),mainContainer.innerHTML="",note.innerHTML="Click on element to copy.";const e=globalResult[globalResult.length-1];e&&e.forEach(e=>{if("/^s*[\r\n]/gm"===e||"/^s*[\r\n]/gm"===e)return;const t=document.createElement("span");t.classList.add("numbers-span"),t.textContent=e,mainContainer.appendChild(t),t.addEventListener("click",()=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)})})},createSwitchLink=()=>{switchList.classList.add("active"),switchBlocks.classList.remove("active"),mainContainer.innerHTML="",note.innerHTML="";const e=document.createElement("textarea");e.classList.add("main__textarea"),e.classList.add("created__textarea"),e.setAttribute("rows","10"),e.textContent=globalResult.join(", ").replace(/,/g,", "),mainContainer.appendChild(e);const t=document.createElement("button");t.classList.add("main__button"),t.classList.add("copy"),t.textContent="Copy",mainContainer.appendChild(t),t.addEventListener("click",()=>{const e=document.createElement("textarea");e.value=globalResult.join(", ").replace(/,/g,", "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})};switchBlocks.addEventListener("click",createSwitchBlock),switchList.addEventListener("click",createSwitchLink),textarea.addEventListener("input",linesCounter),button.addEventListener("click",function(){globalResult=[],genRandomLine()});const displayList=e=>{switchList.classList.contains("active")?switchListGen(e):e.forEach(e=>{const t=e.trim();if(""!==t){const t=document.createElement("span");t.classList.add("numbers-span"),t.textContent=e,mainContainer.appendChild(t),t.addEventListener("click",()=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)})}})},genRandomLine=()=>{const e=parseInt(document.querySelector(".qty").value),t=document.getElementById("repetitions-toggle").checked,n=document.getElementById("sorting-toggle").checked,i=textarea.value.split("\n");document.body.style.overflowY=contentHeight>750?"scroll":"hidden",mainContainer.innerHTML="",mainDesc.innerHTML="",errorNote.innerHTML="",note.innerHTML="Click on element to copy.";let o=[];if(e<1e3&&e>0){for(let t=0;t<e;t++){let e="",t=Math.floor(Math.random()*i.length);e=i[t],o.push(e)}t&&(o=Array.from(new Set(o))),n&&o.sort(),switchBlocks.classList.remove("hidden"),switchList.classList.remove("hidden"),mainSubtitle.classList.remove("hidden"),mainTime.innerHTML=formatTime(new Date),displayList(o)}else mainDesc.innerHTML="",note.innerHTML="",errorNote.innerHTML="The maximum number of winners is 1,000 and quantity more than 0.",switchBlocks.classList.add("hidden"),switchList.classList.add("hidden");return globalResult.push(o),o};